# ๐จ CREATIVE PHASE: FSD Architecture Design

## PROBLEM STATEMENT

ะะตะพะฑัะพะดะธะผะพ ัะฟัะพะตะบัะธัะพะฒะฐัั ะดะตัะฐะปัะฝัั Feature-Sliced Design ะฐััะธัะตะบัััั ะดะปั email builder ะฟัะธะปะพะถะตะฝะธั, ะบะพัะพัะฐั:
- ะะฑะตัะฟะตัะธั ัะตัะบะพะต ัะฐะทะดะตะปะตะฝะธะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ ะผะตะถะดั ัะปะพัะผะธ
- ะะพะดะดะตัะถะธั ะธะฝัะตะณัะฐัะธั @dnd-kit ะธ Consta UI
- ะะพะทะฒะพะปะธั ะปะตะณะบะพ ะผะฐัััะฐะฑะธัะพะฒะฐัั ััะฝะบัะธะพะฝะฐะปัะฝะพััั
- ะกะพััะฐะฝะธั ัะพะฒะผะตััะธะผะพััั ั ัััะตััะฒัััะตะน ััััะบัััะพะน
- ะะฑะตัะฟะตัะธั ัะธะฟะพะฑะตะทะพะฟะฐัะฝะพััั ะธ ะฟะตัะตะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะบะพะดะฐ

## OPTIONS ANALYSIS

### Option 1: ะะปะฐััะธัะตัะบะฐั FSD ั ัััะพะณะธะผ ัะฐะทะดะตะปะตะฝะธะตะผ
**ะะฟะธัะฐะฝะธะต**: ะะพะปะฝะพะต ัะปะตะดะพะฒะฐะฝะธะต FSD ะผะตัะพะดะพะปะพะณะธะธ ั ัะตัะบะธะผ ัะฐะทะดะตะปะตะฝะธะตะผ ะฒัะตั ัะปะพะตะฒ
**ะกัััะบัััะฐ**:
```
src/
โโโ app/                    # ะะฝะธัะธะฐะปะธะทะฐัะธั ะฟัะธะปะพะถะตะฝะธั
โ   โโโ providers/         # ะะพะฝัะตะบัั ะฟัะพะฒะฐะนะดะตัั (DnD, Theme, Store)
โ   โโโ store/            # ะะปะพะฑะฐะปัะฝัะน store (Zustand)
โ   โโโ App.tsx           # ะะพัะฝะตะฒะพะน ะบะพะผะฟะพะฝะตะฝั
โโโ pages/                 # ะกััะฐะฝะธัั (ะตัะปะธ ะฝัะถะฝั)
โโโ widgets/              # ะะพะผะฟะปะตะบัะฝัะต UI ะฑะปะพะบะธ
โ   โโโ editor/           # ะัะฝะพะฒะฝะพะน ัะตะดะฐะบัะพั
โ   โโโ toolbar/          # ะะฐะฝะตะปั ะธะฝััััะผะตะฝัะพะฒ
โ   โโโ sidebar/          # ะะพะบะพะฒะฐั ะฟะฐะฝะตะปั
โ   โโโ block-palette/    # ะะฐะปะธััะฐ ะฑะปะพะบะพะฒ
โโโ features/             # ะะธะทะฝะตั-ััะฝะบัะธะธ
โ   โโโ block-drag-drop/  # Drag & Drop ะฑะปะพะบะพะฒ
โ   โโโ block-config/     # ะะพะฝัะธะณััะฐัะธั ะฑะปะพะบะพะฒ
โ   โโโ template-export/  # ะญะบัะฟะพัั ัะฐะฑะปะพะฝะพะฒ
โ   โโโ template-import/  # ะะผะฟะพัั ัะฐะฑะปะพะฝะพะฒ
โโโ entities/             # ะะธะทะฝะตั-ัััะฝะพััะธ
โ   โโโ block/           # ะกััะฝะพััั ะฑะปะพะบะฐ
โ   โโโ document/        # ะกััะฝะพััั ะดะพะบัะผะตะฝัะฐ
โ   โโโ editor/          # ะกััะฝะพััั ัะตะดะฐะบัะพัะฐ
โโโ shared/               # ะะตัะตะธัะฟะพะปัะทัะตะผัะต ะผะพะดัะปะธ
    โโโ ui/              # UI ะบะพะผะฟะพะฝะตะฝัั (Consta-based)
    โโโ lib/             # ะฃัะธะปะธัั ะธ ัะตะปะฟะตัั
    โโโ api/             # API ัะปะพะน
    โโโ config/          # ะะพะฝัะธะณััะฐัะธั
```

**Pros**:
- ะงะตัะบะพะต ัะฐะทะดะตะปะตะฝะธะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ
- ะะตะณะบะพ ะฟะพะฝััั ััััะบัััั ะดะปั ะฝะพะฒัั ัะฐะทัะฐะฑะพััะธะบะพะฒ
- ะัะปะธัะฝะฐั ะผะฐัััะฐะฑะธััะตะผะพััั
- ะกะพะพัะฒะตัััะฒัะตั FSD ััะฐะฝะดะฐััะฐะผ
- ะัะพััะพะต ัะตััะธัะพะฒะฐะฝะธะต

**Cons**:
- ะะพะถะตั ะฑััั ะธะทะฑััะพัะฝะพ ะดะปั ัะตะบััะตะณะพ ัะฐะทะผะตัะฐ ะฟัะพะตะบัะฐ
- ะะพะปััะต ัะฐะนะปะพะฒ ะธ ะฟะฐะฟะพะบ
- ะกะปะพะถะฝะตะต ะผะธะณัะฐัะธั ั ัะตะบััะตะน ััััะบัััั

**Complexity**: High
**Implementation Time**: 3-4 ะฝะตะดะตะปะธ

### Option 2: ะฃะฟัะพัะตะฝะฝะฐั FSD ั ะพะฑัะตะดะธะฝะตะฝะฝัะผะธ ัะปะพัะผะธ
**ะะฟะธัะฐะฝะธะต**: ะะดะฐะฟัะธัะพะฒะฐะฝะฝะฐั FSD ั ะพะฑัะตะดะธะฝะตะฝะธะตะผ ะฝะตะบะพัะพััั ัะปะพะตะฒ ะดะปั ัะฟัะพัะตะฝะธั
**ะกัััะบัััะฐ**:
```
src/
โโโ app/                    # ะัะธะปะพะถะตะฝะธะต + ะฟัะพะฒะฐะนะดะตัั
โ   โโโ providers/
โ   โโโ store/
โ   โโโ App.tsx
โโโ features/              # ะะฑัะตะดะธะฝะตะฝะฝัะต features + widgets
โ   โโโ email-editor/      # ะัะฝะพะฒะฝะพะน ัะตะดะฐะบัะพั (widget-level)
โ   โโโ block-palette/     # ะะฐะปะธััะฐ ะฑะปะพะบะพะฒ
โ   โโโ block-config/      # ะะพะฝัะธะณััะฐัะธั
โ   โโโ drag-drop/         # Drag & Drop ัะธััะตะผะฐ
โโโ entities/              # ะะธะทะฝะตั-ัััะฝะพััะธ
โ   โโโ block/
โ   โโโ document/
โ   โโโ editor/
โโโ shared/                # ะะฑัะธะต ะผะพะดัะปะธ
    โโโ ui/               # Consta UI ะบะพะผะฟะพะฝะตะฝัั
    โโโ lib/              # ะฃัะธะปะธัั
    โโโ config/           # ะะพะฝัะธะณััะฐัะธั
```

**Pros**:
- ะัะพัะต ะดะปั ะฟะพะฝะธะผะฐะฝะธั ะธ ะฝะฐะฒะธะณะฐัะธะธ
- ะััััะตะต ะผะธะณัะฐัะธั
- ะะตะฝััะต ะฒะปะพะถะตะฝะฝะพััะธ
- ะกะพััะฐะฝัะตั ะพัะฝะพะฒะฝัะต ะฟัะธะฝัะธะฟั FSD

**Cons**:
- ะะตะฝะตะต ัะตัะบะพะต ัะฐะทะดะตะปะตะฝะธะต widget/feature
- ะะพะถะตั ะฟะพััะตะฑะพะฒะฐัั ัะตัะฐะบัะพัะธะฝะณะฐ ะฟัะธ ัะพััะต
- ะัะบะปะพะฝะตะฝะธะต ะพั ััะฐะฝะดะฐััะฝะพะน FSD

**Complexity**: Medium
**Implementation Time**: 2-3 ะฝะตะดะตะปะธ

### Option 3: ะะธะฑัะธะดะฝะฐั ะฐััะธัะตะบัััะฐ (FSD + ัะตะบััะฐั ััััะบัััะฐ)
**ะะฟะธัะฐะฝะธะต**: ะะพััะตะฟะตะฝะฝะฐั ะผะธะณัะฐัะธั ั ัะพััะฐะฝะตะฝะธะตะผ ัะฐััะธ ัะตะบััะตะน ััััะบัััั
**ะกัััะบัััะฐ**:
```
src/
โโโ app/                    # ะะพะฒัะน FSD ัะปะพะน
โโโ features/              # ะะพะฒัะต features ะฒ FSD ััะธะปะต
โโโ entities/              # ะะพะฒัะต entities
โโโ shared/                # ะะฑัะธะต ะผะพะดัะปะธ
โโโ legacy/                # ะกััะตััะฒัััะธะต ะบะพะผะฟะพะฝะตะฝัั
    โโโ App/              # ะขะตะบััะฐั ััััะบัััะฐ App
    โโโ documents/        # ะขะตะบััะธะต documents
    โโโ getConfiguration/ # ะขะตะบััะธะต ััะธะปะธัั
```

**Pros**:
- ะะธะฝะธะผะฐะปัะฝัะน ัะธัะบ ะฟะพะปะพะผะบะธ
- ะะพััะตะฟะตะฝะฝะฐั ะผะธะณัะฐัะธั
- ะะพะถะฝะพ ัะตััะธัะพะฒะฐัั ะฝะพะฒัั ะฐััะธัะตะบัััั ะฟะฐัะฐะปะปะตะปัะฝะพ
- ะกะพััะฐะฝัะตั ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััั

**Cons**:
- ะัะฑะปะธัะพะฒะฐะฝะธะต ะบะพะดะฐ
- ะกะปะพะถะฝะพััั ะฟะพะดะดะตัะถะบะธ ะดะฒัั ะฐััะธัะตะบััั
- ะะตะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะฐั ััััะบัััะฐ
- ะัะตะผะตะฝะฝะพะต ัะตัะตะฝะธะต

**Complexity**: Medium
**Implementation Time**: 1-2 ะฝะตะดะตะปะธ (ะฝะฐัะฐะปัะฝะฐั ะฝะฐัััะพะนะบะฐ)

## DECISION

**ะัะฑะธัะฐั Option 1: ะะปะฐััะธัะตัะบะฐั FSD ั ัััะพะณะธะผ ัะฐะทะดะตะปะตะฝะธะตะผ**

### ะะฑะพัะฝะพะฒะฐะฝะธะต:
1. **ะะพะปะณะพััะพัะฝะฐั ะฟะตััะฟะตะบัะธะฒะฐ**: ะัะพะตะบั ะฑัะดะตั ัะฐััะธัััััั, ะฝัะถะฝะฐ ะผะฐัััะฐะฑะธััะตะผะฐั ะฐััะธัะตะบัััะฐ
2. **ะะพะผะฐะฝะดะฐ ัะฐะทัะฐะฑะพัะบะธ**: FSD ะฟะพะผะพะถะตั ะฝะพะฒัะผ ัะฐะทัะฐะฑะพััะธะบะฐะผ ะฑััััะพ ะฟะพะฝััั ััััะบัััั
3. **ะะฝัะตะณัะฐัะธั ัะตัะฝะพะปะพะณะธะน**: ะงะตัะบะพะต ัะฐะทะดะตะปะตะฝะธะต ัะฟัะพััะธั ะธะฝัะตะณัะฐัะธั @dnd-kit ะธ Consta
4. **ะะฐัะตััะฒะพ ะบะพะดะฐ**: ะกััะพะณะฐั ะฐััะธัะตะบัััะฐ ะฟะพะฒััะธั ะบะฐัะตััะฒะพ ะธ ะฟะพะดะดะตัะถะธะฒะฐะตะผะพััั
5. **ะกัะฐะฝะดะฐััั**: ะกะพะพัะฒะตัััะฒะธะต FSD ะผะตัะพะดะพะปะพะณะธะธ ะพะฑะตัะฟะตัะธั best practices

### ะะปััะตะฒัะต ะฐััะธัะตะบัััะฝัะต ัะตัะตะฝะธั:

#### 1. ะกะปะพะน App
- **DnD Provider**: ะะฑะตััะบะฐ ะดะปั @dnd-kit/core
- **Theme Provider**: Consta theme configuration
- **Store Provider**: Zustand store ะธะฝะธัะธะฐะปะธะทะฐัะธั

#### 2. ะกะปะพะน Entities
- **Block Entity**: ะขะธะฟั ะฑะปะพะบะพะฒ, ััะตะผั ะฒะฐะปะธะดะฐัะธะธ, ะฑะฐะทะพะฒะฐั ะปะพะณะธะบะฐ
- **Document Entity**: ะกัััะบัััะฐ ะดะพะบัะผะตะฝัะฐ, ะพะฟะตัะฐัะธะธ ั ะดะพะบัะผะตะฝัะพะผ
- **Editor Entity**: ะกะพััะพัะฝะธะต ัะตะดะฐะบัะพัะฐ, ะฒัะดะตะปะตะฝะธะต, ะฝะฐัััะพะนะบะธ

#### 3. ะกะปะพะน Features
- **block-drag-drop**: ะัั ะปะพะณะธะบะฐ drag & drop
- **block-config**: ะะฐะฝะตะปะธ ะบะพะฝัะธะณััะฐัะธะธ ะฑะปะพะบะพะฒ
- **template-export/import**: ะญะบัะฟะพัั/ะธะผะฟะพัั ัะฐะฑะปะพะฝะพะฒ

#### 4. ะกะปะพะน Widgets
- **editor**: ะัะฝะพะฒะฝะพะน ัะตะดะฐะบัะพั ั canvas
- **toolbar**: ะะฐะฝะตะปั ะธะฝััััะผะตะฝัะพะฒ
- **sidebar**: ะะพะบะพะฒะฐั ะฟะฐะฝะตะปั ั ะฝะฐัััะพะนะบะฐะผะธ
- **block-palette**: ะะฐะปะธััะฐ ะดะพัััะฟะฝัั ะฑะปะพะบะพะฒ

#### 5. ะกะปะพะน Shared
- **ui**: ะะธะฑะปะธะพัะตะบะฐ Consta ะบะพะผะฟะพะฝะตะฝัะพะฒ
- **lib**: ะฃัะธะปะธัั ะดะปั drag-drop, ะฒะฐะปะธะดะฐัะธะธ, etc.
- **config**: ะะพะฝัะธะณััะฐัะธั ะฟัะธะปะพะถะตะฝะธั

## IMPLEMENTATION PLAN

### ะญัะฐะฟ 1: ะกะพะทะดะฐะฝะธะต ะฑะฐะทะพะฒะพะน ััััะบัััั (ะะตะดะตะปั 1)
1. ะกะพะทะดะฐัั ะฟะฐะฟะบะธ FSD ััััะบัััั
2. ะะฐัััะพะธัั TypeScript paths ะธ ะฐะปะธะฐัั
3. ะกะพะทะดะฐัั ะฑะฐะทะพะฒัะต index.ts ัะฐะนะปั
4. ะะฐัััะพะธัั ESLint ะฟัะฐะฒะธะปะฐ ะดะปั FSD

### ะญัะฐะฟ 2: Entities ัะปะพะน (ะะตะดะตะปั 1-2)
1. ะะธะณัะธัะพะฒะฐัั ััะตะผั ะฑะปะพะบะพะฒ ะฒ entities/block
2. ะกะพะทะดะฐัั entities/document ะดะปั ััััะบัััั ะดะพะบัะผะตะฝัะฐ
3. ะกะพะทะดะฐัั entities/editor ะดะปั ัะพััะพัะฝะธั ัะตะดะฐะบัะพัะฐ
4. ะะฐัััะพะธัั ัะธะฟั ะธ ะธะฝัะตััะตะนัั

### ะญัะฐะฟ 3: Shared ัะปะพะน (ะะตะดะตะปั 2)
1. ะกะพะทะดะฐัั shared/ui ั Consta ะบะพะผะฟะพะฝะตะฝัะฐะผะธ
2. ะะธะณัะธัะพะฒะฐัั ััะธะปะธัั ะฒ shared/lib
3. ะกะพะทะดะฐัั shared/config ะดะปั ะฝะฐัััะพะตะบ

### ะญัะฐะฟ 4: Features ัะปะพะน (ะะตะดะตะปั 2-3)
1. ะกะพะทะดะฐัั features/block-drag-drop
2. ะะธะณัะธัะพะฒะฐัั ะฟะฐะฝะตะปะธ ะบะพะฝัะธะณััะฐัะธะธ ะฒ features/block-config
3. ะกะพะทะดะฐัั features ะดะปั ัะบัะฟะพััะฐ/ะธะผะฟะพััะฐ

### ะญัะฐะฟ 5: Widgets ัะปะพะน (ะะตะดะตะปั 3)
1. ะะตะพัะณะฐะฝะธะทะพะฒะฐัั ะพัะฝะพะฒะฝะพะน ัะตะดะฐะบัะพั ะฒ widgets/editor
2. ะกะพะทะดะฐัั widgets/toolbar ะธ widgets/sidebar
3. ะกะพะทะดะฐัั widgets/block-palette

### ะญัะฐะฟ 6: App ัะปะพะน (ะะตะดะตะปั 3-4)
1. ะกะพะทะดะฐัั ะฟัะพะฒะฐะนะดะตัั ะฒ app/providers
2. ะะฐัััะพะธัั app/store
3. ะะฑะฝะพะฒะธัั ะบะพัะฝะตะฒะพะน App.tsx

### ะญัะฐะฟ 7: ะะธะณัะฐัะธั ะธ ัะตััะธัะพะฒะฐะฝะธะต (ะะตะดะตะปั 4)
1. ะะพััะตะฟะตะฝะฝะฐั ะผะธะณัะฐัะธั ะบะพะผะฟะพะฝะตะฝัะพะฒ
2. ะะฑะฝะพะฒะปะตะฝะธะต ะธะผะฟะพััะพะฒ
3. ะขะตััะธัะพะฒะฐะฝะธะต ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ
4. ะฃะดะฐะปะตะฝะธะต ััะฐัะพะน ััััะบัััั

## VISUALIZATION

```mermaid
graph TD
    subgraph "App Layer"
        App[App.tsx]
        Providers[Providers]
        Store[Zustand Store]
    end
    
    subgraph "Widgets Layer"
        Editor[Email Editor]
        Toolbar[Toolbar]
        Sidebar[Sidebar]
        Palette[Block Palette]
    end
    
    subgraph "Features Layer"
        DragDrop[Block Drag & Drop]
        Config[Block Configuration]
        Export[Template Export]
        Import[Template Import]
    end
    
    subgraph "Entities Layer"
        BlockEntity[Block Entity]
        DocumentEntity[Document Entity]
        EditorEntity[Editor Entity]
    end
    
    subgraph "Shared Layer"
        UI[Consta UI Components]
        Lib[Utilities & Helpers]
        ConfigShared[Configuration]
    end
    
    App --> Widgets
    Widgets --> Features
    Features --> Entities
    Features --> Shared
    Widgets --> Shared
    Entities --> Shared
```

## DEPENDENCIES FLOW

```mermaid
graph LR
    App["๐ App"] --> Widgets["๐งฉ Widgets"]
    Widgets --> Features["โก Features"]
    Features --> Entities["๐ฆ Entities"]
    Features --> Shared["๐ง Shared"]
    Widgets --> Shared
    Entities --> Shared
    
    style App fill:#ff6b6b
    style Widgets fill:#4ecdc4
    style Features fill:#45b7d1
    style Entities fill:#96ceb4
    style Shared fill:#feca57
```

๐จ๐จ๐จ EXITING CREATIVE PHASE - DECISION MADE ๐จ๐จ๐จ

**ะะตะทัะปััะฐั**: ะัะฑัะฐะฝะฐ ะบะปะฐััะธัะตัะบะฐั FSD ะฐััะธัะตะบัััะฐ ั ัะตัะบะธะผ ัะฐะทะดะตะปะตะฝะธะตะผ ัะปะพะตะฒ
**ะกะปะตะดัััะธะน ัะฐะณ**: ะะตัะตัะพะด ะบ ะฟัะพะตะบัะธัะพะฒะฐะฝะธั Drag & Drop UX
